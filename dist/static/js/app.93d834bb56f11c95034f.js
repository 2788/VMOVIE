webpackJsonp([1],{"/fv4":function(t,n){},0:function(t,n){},"2bHb":function(t,n){},"37wb":function(t,n){},"991W":function(t,n){},AUOj:function(t,n){},CXLT:function(t,n){},"I/Hp":function(t,n){},IjdL:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("7+uW"),i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var a=e("VU/8")({name:"App"},i,!1,function(t){e("37wb")},null,null).exports,r=e("/ocq"),o=e("BO1k"),c=e.n(o),u=function(t){return"string"==typeof t?t.replace("https://","https://images.weserv.nl/?url="):""},l={name:"inTheaters",methods:{concat:function(t){var n="",e=!0,s=!1,i=void 0;try{for(var a,r=c()(t);!(e=(a=r.next()).done);e=!0){n+=a.value.name+" / "}}catch(t){s=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(s)throw i}}return n.substring(0,n.length-2)},flat:function(t){return t>=1e4?(t/1e4).toFixed(1)+"万人看过":t+"人看过"},switchTo:function(t){this.$router.push({path:"/movie/"+t.id})},url:function(t){return u(t)}},computed:{items:function(){return this.$store.state.inTheaters}},mounted:function(){-1!==this.$el.children[0].className.indexOf("inTheaters")&&(document.querySelector(".tabbar .strip").style.left="0%"),0===this.$store.state.inTheaters.length&&this.$store.dispatch("getInTheaters",this)}},h={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ul",{staticClass:"inTheaters-list"},t._l(t.items,function(n,s){return e("li",{key:s,staticClass:"item",on:{click:function(e){t.switchTo(n)}}},[e("img",{attrs:{src:t.url(n.images.small),alt:""}}),t._v(" "),e("ul",{staticClass:"info"},[e("li",{staticClass:"name"},[t._v("\n                    "+t._s(n.title)+"\n                ")]),t._v(" "),e("li",{staticClass:"grade"},[t._v("评分: "+t._s(n.rating.average))]),t._v(" "),e("li",{staticClass:"director"},[t._v("导演: "+t._s(t.concat(n.directors)))]),t._v(" "),e("li",{staticClass:"cast"},[t._v("主演: "+t._s(t.concat(n.casts)))])]),t._v(" "),e("div",{staticClass:"peopleNumber"},[e("span",[t._v(t._s(t.flat(n.collect_count)))]),t._v(" "),e("span",[t._v("看过")])])])}))])},staticRenderFns:[]};var v=e("VU/8")(l,h,!1,function(t){e("/fv4")},"data-v-8a650222",null).exports,f={name:"comingSoon",methods:{concat:function(t){var n="",e=!0,s=!1,i=void 0;try{for(var a,r=c()(t);!(e=(a=r.next()).done);e=!0){n+=a.value.name+" / "}}catch(t){s=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(s)throw i}}return n.substring(0,n.length-2)},flat:function(t){return t>=1e4?(t/1e4).toFixed(1)+"万人想看":t+"人想看"},switchTo:function(t){this.$router.push({path:"/movie/"+t.id})},url:function(t){return u(t)}},computed:{items:function(){return this.$store.state.comingSoon}},mounted:function(){-1!==this.$el.children[0].className.indexOf("coming")&&(document.querySelector(".tabbar .strip").style.left="33%"),0===this.$store.state.comingSoon.length&&this.$store.dispatch("getComingSoon",this)}},m={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ul",{staticClass:"comingSoon-list"},t._l(t.items,function(n,s){return e("li",{key:s,staticClass:"item",on:{click:function(e){t.switchTo(n)}}},[e("img",{attrs:{src:t.url(n.images.small),alt:""}}),t._v(" "),e("ul",{staticClass:"info"},[e("li",{staticClass:"name"},[t._v("\n                    "+t._s(n.title)+"\n                ")]),t._v(" "),e("li",{staticClass:"grade"},[t._v("未有评分")]),t._v(" "),e("li",{staticClass:"director"},[t._v("导演: "+t._s(t.concat(n.directors)))]),t._v(" "),e("li",{staticClass:"cast"},[t._v("主演: "+t._s(t.concat(n.casts)))])]),t._v(" "),e("div",{staticClass:"peopleNumber"},[e("span",[t._v(t._s(t.flat(n.collect_count)))]),t._v(" "),e("span",[t._v("想看")])])])}))])},staticRenderFns:[]};var p=e("VU/8")(f,m,!1,function(t){e("Zhxv")},"data-v-16983485",null).exports,d=e("fZjL"),_=e.n(d),g=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)};g.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},g.prototype.update=function(t){this.context.putImageData(t,0,0)},g.prototype.getPixelCount=function(){return this.width*this.height},g.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},g.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var b=function(){};
/*!
 * quantize.js Copyright 2008 Nick Rabinowitz.
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * @license
 */
/*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 * @license
 */
if(b.prototype.getColor=function(t,n){return this.getPalette(t,5,n)[0]},b.prototype.getPalette=function(t,n,e){(void 0===n||n<2||n>256)&&(n=10),(void 0===e||e<1)&&(e=10);for(var s,i,a,r,o=new g(t),c=o.getImageData().data,u=o.getPixelCount(),l=[],h=0;h<u;h+=e)i=c[(s=4*h)+0],a=c[s+1],r=c[s+2],c[s+3]>=125&&(i>250&&a>250&&r>250||l.push([i,a,r]));var v=y.quantize(l,n),f=v?v.palette():null;return o.removeCanvas(),f},b.prototype.getColorFromUrl=function(t,n,e){sourceImage=document.createElement("img");var s=this;sourceImage.addEventListener("load",function(){var i=s.getPalette(sourceImage,5,e)[0];n(i,t)}),sourceImage.src=t},b.prototype.getImageData=function(t,n){xhr=new XMLHttpRequest,xhr.open("GET",t,!0),xhr.responseType="arraybuffer",xhr.onload=function(t){if(200==this.status){uInt8Array=new Uint8Array(this.response),e=uInt8Array.length,binaryString=new Array(e);for(var e=0;e<uInt8Array.length;e++)binaryString[e]=String.fromCharCode(uInt8Array[e]);data=binaryString.join(""),base64=window.btoa(data),n("data:image/png;base64,"+base64)}},xhr.send()},b.prototype.getColorAsync=function(t,n,e){var s=this;this.getImageData(t,function(t){sourceImage=document.createElement("img"),sourceImage.addEventListener("load",function(){var t=s.getPalette(sourceImage,5,e)[0];n(t,this)}),sourceImage.src=t})},!C)var C={map:function(t,n){var e={};return n?t.map(function(t,s){return e.index=s,n.call(e,t)}):t.slice()},naturalOrder:function(t,n){return t<n?-1:t>n?1:0},sum:function(t,n){var e={};return t.reduce(n?function(t,s,i){return e.index=i,t+n.call(e,s)}:function(t,n){return t+n},0)},max:function(t,n){return Math.max.apply(null,n?C.map(t,n):t)}};var y=function(){var t=5,n=8-t,e=1e3,s=.75;function i(n,e,s){return(n<<2*t)+(e<<t)+s}function a(t){var n=[],e=!1;function s(){n.sort(t),e=!0}return{push:function(t){n.push(t),e=!1},peek:function(t){return e||s(),void 0===t&&(t=n.length-1),n[t]},pop:function(){return e||s(),n.pop()},size:function(){return n.length},map:function(t){return n.map(t)},debug:function(){return e||s(),n}}}function r(t,n,e,s,i,a,r){this.r1=t,this.r2=n,this.g1=e,this.g2=s,this.b1=i,this.b2=a,this.histo=r}function o(){this.vboxes=new a(function(t,n){return C.naturalOrder(t.vbox.count()*t.vbox.volume(),n.vbox.count()*n.vbox.volume())})}function c(t,n){if(n.count()){var e=n.r2-n.r1+1,s=n.g2-n.g1+1,a=n.b2-n.b1+1,r=C.max([e,s,a]);if(1==n.count())return[n.copy()];var o,c,u,l,h=0,v=[],f=[];if(r==e)for(o=n.r1;o<=n.r2;o++){for(l=0,c=n.g1;c<=n.g2;c++)for(u=n.b1;u<=n.b2;u++)l+=t[i(o,c,u)]||0;h+=l,v[o]=h}else if(r==s)for(o=n.g1;o<=n.g2;o++){for(l=0,c=n.r1;c<=n.r2;c++)for(u=n.b1;u<=n.b2;u++)l+=t[i(c,o,u)]||0;h+=l,v[o]=h}else for(o=n.b1;o<=n.b2;o++){for(l=0,c=n.r1;c<=n.r2;c++)for(u=n.g1;u<=n.g2;u++)l+=t[i(c,u,o)]||0;h+=l,v[o]=h}return v.forEach(function(t,n){f[n]=h-t}),m(r==e?"r":r==s?"g":"b")}function m(t){var e,s,i,a,r,c=t+"1",u=t+"2",l=0;for(o=n[c];o<=n[u];o++)if(v[o]>h/2){for(i=n.copy(),a=n.copy(),r=(e=o-n[c])<=(s=n[u]-o)?Math.min(n[u]-1,~~(o+s/2)):Math.max(n[c],~~(o-1-e/2));!v[r];)r++;for(l=f[r];!l&&v[r-1];)l=f[--r];return i[u]=r,a[c]=i[u]+1,[i,a]}}}return r.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var n=this.histo;if(!this._count_set||t){var e,s,a,r=0;for(e=this.r1;e<=this.r2;e++)for(s=this.g1;s<=this.g2;s++)for(a=this.b1;a<=this.b2;a++)r+=n[i(e,s,a)]||0;this._count=r,this._count_set=!0}return this._count},copy:function(){return new r(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(n){var e=this.histo;if(!this._avg||n){var s,a,r,o,c=0,u=1<<8-t,l=0,h=0,v=0;for(a=this.r1;a<=this.r2;a++)for(r=this.g1;r<=this.g2;r++)for(o=this.b1;o<=this.b2;o++)c+=s=e[i(a,r,o)]||0,l+=s*(a+.5)*u,h+=s*(r+.5)*u,v+=s*(o+.5)*u;this._avg=c?[~~(l/c),~~(h/c),~~(v/c)]:[~~(u*(this.r1+this.r2+1)/2),~~(u*(this.g1+this.g2+1)/2),~~(u*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var e=t[0]>>n;return gval=t[1]>>n,bval=t[2]>>n,e>=this.r1&&e<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},o.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var n=this.vboxes,e=0;e<n.size();e++)if(n.peek(e).vbox.contains(t))return n.peek(e).color;return this.nearest(t)},nearest:function(t){for(var n,e,s,i=this.vboxes,a=0;a<i.size();a++)((e=Math.sqrt(Math.pow(t[0]-i.peek(a).color[0],2)+Math.pow(t[1]-i.peek(a).color[1],2)+Math.pow(t[2]-i.peek(a).color[2],2)))<n||void 0===n)&&(n=e,s=i.peek(a).color);return s},forcebw:function(){var t=this.vboxes;t.sort(function(t,n){return C.naturalOrder(C.sum(t.color),C.sum(n.color))});var n=t[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(t[0].color=[0,0,0]);var e=t.length-1,s=t[e].color;s[0]>251&&s[1]>251&&s[2]>251&&(t[e].color=[255,255,255])}},{quantize:function(u,l){if(!u.length||l<2||l>256)return!1;var h=function(e){var s,a,r,o,c=new Array(1<<3*t);return e.forEach(function(t){a=t[0]>>n,r=t[1]>>n,o=t[2]>>n,s=i(a,r,o),c[s]=(c[s]||0)+1}),c}(u);h.forEach(function(){});var v=function(t,e){var s,i,a,o=1e6,c=0,u=1e6,l=0,h=1e6,v=0;return t.forEach(function(t){s=t[0]>>n,i=t[1]>>n,a=t[2]>>n,s<o?o=s:s>c&&(c=s),i<u?u=i:i>l&&(l=i),a<h?h=a:a>v&&(v=a)}),new r(o,c,u,l,h,v,e)}(u,h),f=new a(function(t,n){return C.naturalOrder(t.count(),n.count())});function m(t,n){for(var s,i=1,a=0;a<e;)if((s=t.pop()).count()){var r=c(h,s),o=r[0],u=r[1];if(!o)return;if(t.push(o),u&&(t.push(u),i++),i>=n)return;if(a++>e)return}else t.push(s),a++}f.push(v),m(f,s*l);for(var p=new a(function(t,n){return C.naturalOrder(t.count()*t.volume(),n.count()*n.volume())});f.size();)p.push(f.pop());m(p,l-p.size());for(var d=new o;p.size();)d.push(p.pop());return d}}}(),w=b,x={name:"movieMsg",data:function(){return{done:!1,tab:"短评",show:!1}},methods:{back:function(){this.$router.go(-1)},switchTab:function(t){console.log("123");var n=document.querySelector(".comments-tab .bar");this.tab=t.target.innerText,"影评"!==this.tab?n.style.left="0":n.style.left="50%"},extractInfo:function(t){if(0===_()(t).length)return"";var n=t.year+" /",e=!0,s=!1,i=void 0;try{for(var a,r=c()(t.genres);!(e=(a=r.next()).done);e=!0){n+=" "+a.value}}catch(t){s=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(s)throw i}}var o=!0,u=!1,l=void 0;try{for(var h,v=c()(t.casts);!(o=(h=v.next()).done);o=!0){n+=" / "+h.value.name}}catch(t){u=!0,l=t}finally{try{!o&&v.return&&v.return()}finally{if(u)throw l}}return n},splitStr:function(t){return t.split(/\s+/)[0]},color:function(){var t=document.querySelector(".movieMsg img"),n=document.querySelector(".movieMsg header"),e=new w,s=new Image;s.crossOrigin="",s.onload=function(){var t=e.getColor(s),i="rgb("+t+")";n.style.background=i;var a=void 0;a=.299*t[0]+.587*t[1]+.114*t[2]>=192?"#000":"#fff",n.style.color=a},s.src=t.src},url:function(t){return u(t)}},computed:{movieMsg:function(){return this.$store.state.movieMsg},comments:function(){return this.$store.state.comments},reviews:function(){return this.$store.state.reviews}},watch:{"$store.state.id":function(t,n){void 0!==t&&(this.done=!0)}},mounted:function(){this.$store.dispatch("getMovieMsg",this),this.$store.dispatch("getComments",this),this.$store.dispatch("getReviews",this)}},$={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.done?e("div",{staticClass:"movieMsg"},[e("header",[e("div",{staticClass:"top"},[e("span",{staticClass:"iconfont icon-fanhui",on:{click:t.back}}),t._v(" "),t._m(0),t._v(" "),e("span",{staticClass:"iconfont icon-fenxiang"})]),t._v(" "),e("div",{staticClass:"img"},[e("img",{attrs:{src:t.url(t.movieMsg.images.small),alt:""},on:{load:t.color}})])]),t._v(" "),e("main",[e("div",{staticClass:"info"},[e("div",{staticClass:"sec1"},[e("div",{staticClass:"details"},[e("span",{staticClass:"name"},[t._v(t._s(t.movieMsg.title))]),t._v(" "),e("span",{staticClass:"genre"},[t._v(t._s(t.extractInfo(t.movieMsg)))]),t._v(" "),e("span",{staticClass:"original"},[t._v(t._s(t.movieMsg.original_title))]),t._v(" "),e("span",{staticClass:"country"},[t._v("地区: "+t._s(t.movieMsg.countries.toString()))])]),t._v(" "),e("div",{staticClass:"grade"},[e("p",[e("span",[t._v("豆瓣评分")]),t._v(" "),e("span",[t._v(t._s(t.movieMsg.rating.average))]),t._v(" "),e("span",[t._v("☆☆☆☆☆")]),t._v(" "),e("span",[t._v(t._s(t.movieMsg.ratings_count)+"人")])])])]),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"abstract"},[e("span",[t._v("简介")]),t._v(" "),e("span",[t._v(t._s(t.movieMsg.summary))])]),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"comments"},[e("div",{staticClass:"comments-tab"},[e("span",{on:{click:t.switchTab}},[t._v("短评")]),e("span",{on:{click:t.switchTab}},[t._v("影评")]),e("span",{staticClass:"bar"})]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:"短评"===t.tab,expression:"tab==='短评'"}],staticClass:"small"},[t._l(t.comments,function(n,s){return e("li",{key:s,staticClass:"small-item"},[e("img",{attrs:{src:t.url(n.author.avatar),alt:""}}),t._v(" "),e("div",[e("span",{staticClass:"name-grade"},[t._v(t._s(n.author.name)+" ☆☆☆☆☆")]),t._v(" "),e("span",{staticClass:"comments-content"},[t._v(t._s(n.content))]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(t.splitStr(n.created_at)))])])])}),t._v(" "),t._m(3)],2),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:"影评"===t.tab,expression:"tab==='影评'"}],staticClass:"long"},[t._l(t.reviews,function(n,s){return e("li",{key:s,staticClass:"long-item"},[e("div",{staticClass:"title"},[t._v(t._s(n.title))]),t._v(" "),e("div",{staticClass:"img-name-grade"},[e("img",{attrs:{src:t.url(n.author.avatar),alt:""}}),t._v(" "),e("span",{staticClass:"name-grade"},[t._v(t._s(n.author.name)+" ☆☆☆☆☆")])]),t._v(" "),e("div",{staticClass:"review-content"},[t._v(t._s(n.summary))]),t._v(" "),e("div",{staticClass:"count-time"},[e("span",{staticClass:"count"},[t._v(t._s(n.useful_count)+"/"+t._s(n.useful_count+n.useless_count))]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(t.splitStr(n.created_at)))])])])}),t._v(" "),t._m(4)],2)])])]):e("div")},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("span",[n("span",{staticClass:"iconfont icon-baomihua"}),this._v("VMOVIE")])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"sec2"},[n("span",[this._v("想看")]),this._v(" "),n("span",[this._v("看过☆☆☆☆☆")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"casts"},[n("img",{attrs:{src:"",alt:""}}),this._v(" "),n("img",{attrs:{src:"",alt:""}}),this._v(" "),n("img",{attrs:{src:"",alt:""}}),this._v(" "),n("img",{attrs:{src:"",alt:""}})])},function(){var t=this.$createElement,n=this._self._c||t;return n("li",{staticClass:"more"},[n("span",[this._v("更多短评")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("li",{staticClass:"more"},[n("span",[this._v("更多影评")])])}]};var k=e("VU/8")(x,$,!1,function(t){e("AUOj")},"data-v-406178c6",null).exports,T={data:function(){return{show:!0,searchContent:""}},methods:{switchTo:function(t){this.$router.push({path:"/movie/"+t.id})},concat:function(t){var n=t.rating.average+"/",e=!0,s=!1,i=void 0;try{for(var a,r=c()(t.casts);!(e=(a=r.next()).done);e=!0){n+=a.value.name+"/"}}catch(t){s=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(s)throw i}}return n+"/"+t.year},search:function(t){"search-input"===t.target.className?(this.searchContent=t.target.value,this.$store.dispatch("getSearchResult",this)):"classify-wrap"!==t.target.className&&(this.searchContent=t.target.innerText,this.$store.dispatch("getClassifyResult",this))},back:function(){this.show?this.$router.push({path:"/main/inTheaters"}):this.show=!this.show},url:function(t){return u(t)}},computed:{items:function(){return this.$store.state.searchResult}}},M={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"search"},[e("div",{staticClass:"header"},[e("span",{staticClass:"iconfont icon-fanhui",on:{click:t.back}}),t._v(" "),e("input",{staticClass:"search-input",attrs:{type:"text",placeholder:"搜索电影名"},on:{keydown:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.search(n):null}}})]),t._v(" "),t.show?e("div",{staticClass:"tips"},[e("div",{staticClass:"title"},[t._v("分类")]),t._v(" "),e("div",{staticClass:"classify-wrap",on:{click:t.search}},[e("span",[t._v("爱情")]),t._v(" "),e("span",[t._v("喜剧")]),t._v(" "),e("span",[t._v("动作")]),t._v(" "),e("span",[t._v("科幻")]),t._v(" "),e("span",[t._v("动画")]),t._v(" "),e("span",[t._v("悬疑")]),t._v(" "),e("span",[t._v("惊悚")]),t._v(" "),e("span",[t._v("恐怖")]),t._v(" "),e("span",[t._v("犯罪")]),t._v(" "),e("span",[t._v("同性")]),t._v(" "),e("span",[t._v("音乐")]),t._v(" "),e("span",[t._v("歌舞")]),t._v(" "),e("span",[t._v("战争")])]),t._v(" "),t._m(0)]):e("div",[e("ul",{staticClass:"result-list"},t._l(t.items,function(n,s){return e("li",{key:s,staticClass:"item",on:{click:function(e){t.switchTo(n)}}},[e("img",{attrs:{src:t.url(n.images.small),alt:""}}),t._v(" "),e("ul",{staticClass:"info"},[e("li",{staticClass:"name"},[t._v("\n                    "+t._s(n.title)+"\n                ")]),t._v(" "),e("li",{staticClass:"details"},[t._v(t._s(t.concat(n)))])])])}))])])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"history"},[n("div",{staticClass:"title"},[this._v("历史搜索")]),this._v(" "),n("div",[this._v("秘密花园")])])}]};var S=e("VU/8")(T,M,!1,function(t){e("nOUG")},"data-v-25a1545e",null).exports,I={name:"ranking",methods:{concat:function(t){var n=t.year+" /",e=!0,s=!1,i=void 0;try{for(var a,r=c()(t.genres);!(e=(a=r.next()).done);e=!0){n+=" "+a.value}}catch(t){s=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(s)throw i}}var o=!0,u=!1,l=void 0;try{for(var h,v=c()(t.casts);!(o=(h=v.next()).done);o=!0){n+=" / "+h.value.name}}catch(t){u=!0,l=t}finally{try{!o&&v.return&&v.return()}finally{if(u)throw l}}return n},switchTo:function(t){this.$router.push({path:"/movie/"+t.id})},url:function(t){return u(t)}},computed:{items:function(){return this.$store.state.ranking}},mounted:function(){-1!==this.$el.children[0].className.indexOf("rank")&&(document.querySelector(".tabbar .strip").style.left="66%"),0===this.$store.state.ranking.length&&this.$store.dispatch("getRanking",this)}},R={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ul",{staticClass:"rank-list"},t._l(t.items,function(n,s){return e("li",{key:s,staticClass:"rank-items",on:{click:function(e){t.switchTo(n)}}},[e("div",{staticClass:"por"},[e("div",{staticClass:"strip"}),t._v(" "),e("span",{staticClass:"number"},[t._v(t._s(s+1))]),t._v(" "),e("div",{staticClass:"strip"})]),t._v(" "),e("div",{staticClass:"movies"},[e("img",{attrs:{src:t.url(n.images.small),alt:""}}),t._v(" "),e("ul",{staticClass:"info"},[e("li",{staticClass:"name"},[t._v("\n                        "+t._s(n.title)+"\n                    ")]),t._v(" "),e("li",{staticClass:"grade"},[t._v("评分:  "),e("span",[t._v(t._s(n.rating.average))])]),t._v(" "),e("li",{staticClass:"details"},[t._v(t._s(t.concat(n)))])])])])}))])},staticRenderFns:[]};var E=e("VU/8")(I,R,!1,function(t){e("I/Hp")},"data-v-1385ba36",null).exports,O={name:"mainContent",data:function(){return{transitionName:"slide-left"}},methods:{switchTab:function(t){document.querySelector(".strip").style.left=t.target.offsetLeft+"px",this.$router.push({path:"/main/"+t.target.className})}},watch:{$route:function(t,n){var e=["inTheaters","comingSoon","ranking"],s=e.indexOf(t.path.substring(t.path.lastIndexOf("/")+1)),i=e.indexOf(n.path.substring(n.path.lastIndexOf("/")+1));this.transitionName=i>s?"slide-right":"slide-left"}}},j={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"tabbar"},[e("div",{staticClass:"inTheaters",on:{click:t.switchTab}},[t._v("正在热映")]),t._v(" "),e("div",{staticClass:"comingSoon",on:{click:t.switchTab}},[t._v("即将上映")]),t._v(" "),e("div",{staticClass:"ranking",on:{click:t.switchTab}},[t._v("排行榜")]),t._v(" "),e("div",{staticClass:"strip"})]),t._v(" "),e("div",{staticClass:"wrap"},[e("transition",{attrs:{name:t.transitionName}},[e("router-view",{staticClass:"child-view"})],1)],1)])},staticRenderFns:[]};var N={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("span",[this._v("VDOUYAMOVIE")]),this._v(" "),n("div",{staticClass:"icon-search iconfont icon-sousuo",on:{click:this.switchTo}})])},staticRenderFns:[]};var U={name:"main-view",components:{"main-content":e("VU/8")(O,j,!1,function(t){e("CXLT")},null,null).exports,"m-head":e("VU/8")({name:"mHead",methods:{switchTo:function(){this.$router.push({path:"/search"})}}},N,!1,function(t){e("IjdL")},"data-v-4e19febc",null).exports},methods:{checkTab:function(t){-1!==t.target.innerText.indexOf("热映")?this.$route.push({parth:"/main/inTheaters"}):this.$route.push({parth:"/main/comingSoon"})}}},A={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"main-view"},[n("m-head",{staticClass:"head"}),this._v(" "),n("main-content",{staticClass:"mainContent"})],1)},staticRenderFns:[]};var q=e("VU/8")(U,A,!1,function(t){e("kKyv")},"data-v-2af736be",null).exports;s.a.use(r.a);var V=new r.a({routes:[{path:"/main",name:"main",component:q,children:[{path:"inTheaters",component:v},{path:"comingSoon",component:p},{path:"ranking",component:E}]},{path:"/movie/:id",name:"moviesMsg",component:k},{path:"/search",name:"search",component:S}]}),F=e("9rMa"),z={getInTheaters:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/in_theaters").then(function(t){e("updateInTheaters",t.body.subjects)}).catch(function(t){console.log(t)})},getComingSoon:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/coming_soon").then(function(t){e("updateComingSoon",t.body.subjects)}).catch(function(t){console.log(t)})},getRanking:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/top250").then(function(t){e("updateRanking",t.body.subjects)}).catch(function(t){console.log(t)})},getMovieMsg:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/subject/"+n.$route.params.id).then(function(t){e("updateMovieMsg",t.body),n.show=!0}).catch(function(t){console.log(t)})},getComments:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/subject/"+n.$route.params.id+"/comments?apikey=0b2bdeda43b5688921839c8ecb20399b&start=0&count=10").then(function(t){e("updateComments",t.body.comments)}).catch(function(t){console.log(t)})},getReviews:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/subject/"+n.$route.params.id+"/reviews?apikey=0b2bdeda43b5688921839c8ecb20399b&start=0&count=10").then(function(t){e("updateReviews",t.body.reviews)}).catch(function(t){console.log(t)})},getClassifyResult:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/search?tag="+n.searchContent).then(function(t){n.show=!1,e("updateSearchResult",t.body.subjects)}).catch(function(t){console.log(t)})},getSearchResult:function(t,n){var e=t.commit;n.$http.jsonp("https://api.douban.com/v2/movie/search?q="+n.searchContent).then(function(t){n.show=!1,e("updateSearchResult",t.body.subjects)}).catch(function(t){console.log(t)})}},L={id:"",inTheaters:[],comingSoon:[],ranking:[],movieMsg:{},comments:[],reviews:[],searchResult:[]},H={updateInTheaters:function(t,n){t.inTheaters=n},updateComingSoon:function(t,n){t.comingSoon=n},updateRanking:function(t,n){t.ranking=n},updateMovieMsg:function(t,n){t.movieMsg=n,t.id=n.id},updateComments:function(t,n){t.comments=n},updateReviews:function(t,n){t.reviews=n},updateSearchResult:function(t,n){t.searchResult=n}};s.a.use(F.a);var D=new F.a.Store({actions:z,state:L,mutations:H}),P=(e("991W"),e("2bHb"),e("OolZ"));s.a.config.productionTip=!1,s.a.use(P.a),new s.a({el:"#app",router:V,store:D,components:{App:a},template:"<App/>"})},Zhxv:function(t,n){},kKyv:function(t,n){},nOUG:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.93d834bb56f11c95034f.js.map